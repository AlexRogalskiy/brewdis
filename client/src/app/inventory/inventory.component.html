<table mat-table #table matSort [dataSource]="dataSource" class="mat-elevation-z8">

	<ng-container matColumnDef="store">
		<th mat-header-cell *matHeaderCellDef mat-sort-header>Store</th>
		<td mat-cell *matCellDef="let row">{{row.storeDescription}}</td>
	</ng-container>

	<ng-container matColumnDef="sku">
		<th mat-header-cell *matHeaderCellDef mat-sort-header>SKU</th>
		<td mat-cell *matCellDef="let row">{{row.sku}}</td>
	</ng-container>

	<ng-container matColumnDef="name">
		<th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
		<td mat-cell *matCellDef="let row"><img
				src="{{ row.hasOwnProperty('labels.icon') ? row['labels.icon'] : 'assets/brewdis.svg'}}">
			<p>{{row.name}}</p>
		</td>
	</ng-container>

	<ng-container matColumnDef="availableToPromise">
		<th class="cell-right" mat-header-cell *matHeaderCellDef mat-sort-header>Available To Promise</th>
		<td mat-cell *matCellDef="let row" [ngClass]="{
			'negative' : isRecent(row.time) && row.delta<0, 'positive' : isRecent(row.time) && row.delta>0
		}" class="numeric">{{row.availableToPromise}}</td>
	</ng-container>

	<ng-container matColumnDef="onHand">
		<th mat-header-cell *matHeaderCellDef mat-sort-header>On Hand</th>
		<td mat-cell *matCellDef="let row" class="numeric">{{row.onHand}}</td>
	</ng-container>


	<ng-container matColumnDef="allocated">
		<th mat-header-cell *matHeaderCellDef mat-sort-header>Allocated</th>
		<td mat-cell *matCellDef="let row" class="numeric">{{row.allocated}}</td>
	</ng-container>

	<ng-container matColumnDef="reserved">
		<th mat-header-cell *matHeaderCellDef mat-sort-header>Reserved</th>
		<td mat-cell *matCellDef="let row" class="numeric">{{row.reserved}}</td>
	</ng-container>

	<ng-container matColumnDef="virtualHold">
		<th mat-header-cell *matHeaderCellDef mat-sort-header>Virtual Hold</th>
		<td mat-cell *matCellDef="let row" class="numeric">{{row.virtualHold}}</td>
	</ng-container>

	<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
	<tr mat-row *matRowDef="let row; columns: displayedColumns;"
		[ngClass]="{ 'low' : row.availableToPromise<5, 'high' : row.availableToPromise>10, 'mid' : row.availableToPromise<=10 && row.availableToPromise>=5 }">
	</tr>

</table>